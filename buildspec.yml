version: 0.2
phases:
  install:
    runtime-versions:
      nodejs: 16
  pre_build:
    commands:
      - npm install --silent --global expo-cli
      - |-
        if [ -f yarn.lock ]; then
         yarn
        elif [ -f package-lock.json ] || [ -f npm-shrinkwrap.json ]; then
         npm ci
        else
         npm install
        fi
  build:
    commands:
      - 'expo build:web'
artifacts:
  baseDirectory: web-build
  files:
    - '**/*'
cache:
  paths:
    - node_modules/**/*
    - $(npm root --global)/**/*
